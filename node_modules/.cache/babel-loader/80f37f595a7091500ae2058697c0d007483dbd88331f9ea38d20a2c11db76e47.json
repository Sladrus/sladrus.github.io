{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _toConsumableArray from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/createClass.js\";import{makeAutoObservable}from'mobx';import{createKeys as _createKeys,fetchKeys as _fetchKeys}from'../http/keysApi';var KeysStore=/*#__PURE__*/function(){function KeysStore(){_classCallCheck(this,KeysStore);this._keys=[];this._isLoading=false;makeAutoObservable(this);}_createClass(KeysStore,[{key:\"setKeys\",value:function setKeys(keys){this._keys=keys;}},{key:\"setIsLoading\",value:function setIsLoading(bool){this._isLoading=bool;}},{key:\"keys\",get:function get(){return this._keys;}},{key:\"isLoading\",get:function get(){return this._isLoading;}},{key:\"createKeys\",value:function(){var _createKeys2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(body){var data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:this.setIsLoading(true);_context.prev=1;_context.next=4;return _createKeys(body);case 4:data=_context.sent;this.setKeys([].concat(_toConsumableArray(this.keys),[data]));_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](1);console.log(_context.t0);case 11:_context.prev=11;this.setIsLoading(false);return _context.finish(11);case 14:case\"end\":return _context.stop();}},_callee,this,[[1,8,11,14]]);}));function createKeys(_x){return _createKeys2.apply(this,arguments);}return createKeys;}()},{key:\"fetchKeys\",value:function(){var _fetchKeys2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var data;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:this.setIsLoading(true);_context2.prev=1;_context2.next=4;return _fetchKeys();case 4:data=_context2.sent;this.setKeys(data);return _context2.abrupt(\"return\",data);case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](1);console.log(_context2.t0);case 12:_context2.prev=12;this.setIsLoading(false);return _context2.finish(12);case 15:case\"end\":return _context2.stop();}},_callee2,this,[[1,9,12,15]]);}));function fetchKeys(){return _fetchKeys2.apply(this,arguments);}return fetchKeys;}()}]);return KeysStore;}();export{KeysStore as default};","map":{"version":3,"names":["makeAutoObservable","createKeys","fetchKeys","KeysStore","_keys","_isLoading","keys","bool","body","setIsLoading","data","setKeys","console","log"],"sources":["C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/src/store/KeysStore.js"],"sourcesContent":["import { makeAutoObservable } from 'mobx';\r\nimport { createKeys, fetchKeys } from '../http/keysApi';\r\n\r\nexport default class KeysStore {\r\n  constructor() {\r\n    this._keys = [];\r\n    this._isLoading = false;\r\n    makeAutoObservable(this);\r\n  }\r\n\r\n  setKeys(keys) {\r\n    this._keys = keys;\r\n  }\r\n\r\n  setIsLoading(bool) {\r\n    this._isLoading = bool;\r\n  }\r\n\r\n  get keys() {\r\n    return this._keys;\r\n  }\r\n\r\n  get isLoading() {\r\n    return this._isLoading;\r\n  }\r\n\r\n  async createKeys(body) {\r\n    this.setIsLoading(true);\r\n    try {\r\n      const data = await createKeys(body);\r\n      this.setKeys([...this.keys, data]);\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      this.setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  async fetchKeys() {\r\n    this.setIsLoading(true);\r\n    try {\r\n      const data = await fetchKeys();\r\n      this.setKeys(data);\r\n      return data;\r\n    } catch (e) {\r\n      console.log(e);\r\n    } finally {\r\n      this.setIsLoading(false);\r\n    }\r\n  }\r\n}\r\n"],"mappings":"m2BAAA,OAASA,kBAAkB,KAAQ,MAAM,CACzC,OAASC,UAAU,GAAVA,YAAU,CAAEC,SAAS,GAATA,WAAS,KAAQ,iBAAiB,CAAC,GAEnCC,UAAS,yBAC5B,oBAAc,iCACZ,IAAI,CAACC,KAAK,CAAG,EAAE,CACf,IAAI,CAACC,UAAU,CAAG,KAAK,CACvBL,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAC,6CAED,iBAAQM,IAAI,CAAE,CACZ,IAAI,CAACF,KAAK,CAAGE,IAAI,CACnB,CAAC,4BAED,sBAAaC,IAAI,CAAE,CACjB,IAAI,CAACF,UAAU,CAAGE,IAAI,CACxB,CAAC,kBAED,cAAW,CACT,MAAO,KAAI,CAACH,KAAK,CACnB,CAAC,uBAED,cAAgB,CACd,MAAO,KAAI,CAACC,UAAU,CACxB,CAAC,gHAED,iBAAiBG,IAAI,4HACnB,IAAI,CAACC,YAAY,CAAC,IAAI,CAAC,CAAC,sCAEHR,YAAU,CAACO,IAAI,CAAC,QAA7BE,IAAI,eACV,IAAI,CAACC,OAAO,8BAAK,IAAI,CAACL,IAAI,GAAEI,IAAI,GAAE,CAAC,+EAEnCE,OAAO,CAACC,GAAG,aAAG,CAAC,yBAEf,IAAI,CAACJ,YAAY,CAAC,KAAK,CAAC,CAAC,oGAE5B,yMAED,kJACE,IAAI,CAACA,YAAY,CAAC,IAAI,CAAC,CAAC,wCAEHP,WAAS,EAAE,QAAxBQ,IAAI,gBACV,IAAI,CAACC,OAAO,CAACD,IAAI,CAAC,CAAC,iCACZA,IAAI,6DAEXE,OAAO,CAACC,GAAG,cAAG,CAAC,0BAEf,IAAI,CAACJ,YAAY,CAAC,KAAK,CAAC,CAAC,uGAE5B,sHA9CkBN,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}