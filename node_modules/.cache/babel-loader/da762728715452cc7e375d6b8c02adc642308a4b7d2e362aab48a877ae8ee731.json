{"ast":null,"code":"import _objectSpread from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{observer}from'mobx-react-lite';import React,{useContext,useEffect,useState}from'react';import{Button,Container}from'react-bootstrap';import{Context}from'..';import ChatList from'../components/ChatList';import CreateChat from'../components/modals/monitoring/CreateChat';import{getChats}from'../http/chatApi';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Monitoring=observer(function(){var _useContext=useContext(Context),telegramService=_useContext.telegramService;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),createShow=_useState2[0],setCreateShow=_useState2[1];useEffect(function(){getChats().then(function(data){if(!telegramService.chats.length){telegramService.chats=data;}telegramService.chats.map(function(chat){if(!chat.active){return _objectSpread(_objectSpread({},chat),{},{active:false});}return chat;});});},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Container,{className:\"p-4 px-4 d-grid\",children:[/*#__PURE__*/_jsx(Button,{variant:\"primary\",size:\"lg\",onClick:function onClick(){return setCreateShow(true);},children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0447\\u0430\\u0442\\u044B\"}),/*#__PURE__*/_jsx(CreateChat,{show:createShow,onHide:setCreateShow})]}),telegramService.chats.length?/*#__PURE__*/_jsx(Container,{className:\"d-flex flex-row flex-wrap align-content-center justify-content-start\",children:/*#__PURE__*/_jsx(ChatList,{chats:telegramService.chats})}):/*#__PURE__*/_jsx(\"center\",{children:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u044C\\u0442\\u0435 \\u0447\\u0430\\u0442\\u044B, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043D\\u0430\\u0447\\u0430\\u0442\\u044C\"})]});});export default Monitoring;","map":{"version":3,"names":["observer","React","useContext","useEffect","useState","Button","Container","Context","ChatList","CreateChat","getChats","Monitoring","telegramService","createShow","setCreateShow","then","data","chats","length","map","chat","active"],"sources":["C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/src/pages/Monitoring.js"],"sourcesContent":["import { observer } from 'mobx-react-lite';\r\nimport React, { useContext, useEffect, useState } from 'react';\r\nimport { Button, Container } from 'react-bootstrap';\r\nimport { Context } from '..';\r\nimport ChatList from '../components/ChatList';\r\nimport CreateChat from '../components/modals/monitoring/CreateChat';\r\nimport { getChats } from '../http/chatApi';\r\n\r\nconst Monitoring = observer(() => {\r\n  const { telegramService } = useContext(Context);\r\n\r\n  const [createShow, setCreateShow] = useState(false);\r\n\r\n  useEffect(() => {\r\n    getChats().then((data) => {\r\n      if (!telegramService.chats.length) {\r\n        telegramService.chats = data;\r\n      }\r\n      telegramService.chats.map((chat) => {\r\n        if (!chat.active) {\r\n          return { ...chat, active: false };\r\n        }\r\n        return chat;\r\n      });\r\n    });\r\n  }, []);\r\n  return (\r\n    <>\r\n      <Container className=\"p-4 px-4 d-grid\">\r\n        <Button variant=\"primary\" size=\"lg\" onClick={() => setCreateShow(true)}>\r\n          Добавить чаты\r\n        </Button>\r\n        <CreateChat show={createShow} onHide={setCreateShow} />\r\n      </Container>\r\n      {telegramService.chats.length ? (\r\n        <Container className=\"d-flex flex-row flex-wrap align-content-center justify-content-start\">\r\n          <ChatList chats={telegramService.chats} />\r\n        </Container>\r\n      ) : (\r\n        <center>Добавьте чаты, чтобы начать</center>\r\n      )}\r\n    </>\r\n  );\r\n});\r\n\r\nexport default Monitoring;\r\n"],"mappings":"iVAAA,OAASA,QAAQ,KAAQ,iBAAiB,CAC1C,MAAOC,MAAK,EAAIC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC9D,OAASC,MAAM,CAAEC,SAAS,KAAQ,iBAAiB,CACnD,OAASC,OAAO,KAAQ,IAAI,CAC5B,MAAOC,SAAQ,KAAM,wBAAwB,CAC7C,MAAOC,WAAU,KAAM,4CAA4C,CACnE,OAASC,QAAQ,KAAQ,iBAAiB,CAAC,6IAE3C,GAAMC,WAAU,CAAGX,QAAQ,CAAC,UAAM,CAChC,gBAA4BE,UAAU,CAACK,OAAO,CAAC,CAAvCK,eAAe,aAAfA,eAAe,CAEvB,cAAoCR,QAAQ,CAAC,KAAK,CAAC,wCAA5CS,UAAU,eAAEC,aAAa,eAEhCX,SAAS,CAAC,UAAM,CACdO,QAAQ,EAAE,CAACK,IAAI,CAAC,SAACC,IAAI,CAAK,CACxB,GAAI,CAACJ,eAAe,CAACK,KAAK,CAACC,MAAM,CAAE,CACjCN,eAAe,CAACK,KAAK,CAAGD,IAAI,CAC9B,CACAJ,eAAe,CAACK,KAAK,CAACE,GAAG,CAAC,SAACC,IAAI,CAAK,CAClC,GAAI,CAACA,IAAI,CAACC,MAAM,CAAE,CAChB,sCAAYD,IAAI,MAAEC,MAAM,CAAE,KAAK,GACjC,CACA,MAAOD,KAAI,CACb,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CAAE,EAAE,CAAC,CACN,mBACE,wCACE,MAAC,SAAS,EAAC,SAAS,CAAC,iBAAiB,wBACpC,KAAC,MAAM,EAAC,OAAO,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,CAAE,yBAAMN,cAAa,CAAC,IAAI,CAAC,EAAC,UAAC,2EAExE,EAAS,cACT,KAAC,UAAU,EAAC,IAAI,CAAED,UAAW,CAAC,MAAM,CAAEC,aAAc,EAAG,GAC7C,CACXF,eAAe,CAACK,KAAK,CAACC,MAAM,cAC3B,KAAC,SAAS,EAAC,SAAS,CAAC,sEAAsE,uBACzF,KAAC,QAAQ,EAAC,KAAK,CAAEN,eAAe,CAACK,KAAM,EAAG,EAChC,cAEZ,wBAAQ,gJAA2B,EACpC,GACA,CAEP,CAAC,CAAC,CAEF,cAAeN,WAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}