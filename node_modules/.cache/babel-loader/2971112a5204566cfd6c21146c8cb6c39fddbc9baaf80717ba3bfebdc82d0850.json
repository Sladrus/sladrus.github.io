{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{observer}from'mobx-react-lite';import React,{useContext,useState}from'react';import{Button,Card,Col,Container,Form,Row}from'react-bootstrap';import{NavLink,useLocation,useNavigate}from'react-router-dom';import{Context}from'..';import{LOGIN_ROUTE,MONITORING_ROUTE,REGISTRATION_ROUTE}from'../utils/consts';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Auth=observer(function(){var _useContext=useContext(Context),userStore=_useContext.userStore;var location=useLocation();var navigate=useNavigate();var isLogin=location.pathname===LOGIN_ROUTE;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var click=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;if(!isLogin){_context.next=6;break;}_context.next=4;return userStore.login(email,password);case 4:_context.next=8;break;case 6:_context.next=8;return userStore.registration(email,password);case 8:navigate(MONITORING_ROUTE);_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);alert(_context.t0);case 14:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function click(){return _ref.apply(this,arguments);};}();return/*#__PURE__*/_jsx(Container,{className:\"d-flex justify-content-center align-items-center\",style:{height:window.innerHeight-54},children:/*#__PURE__*/_jsxs(Card,{style:{width:550},className:\"p-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"m-auto\",children:isLogin?'Авторизация':'Регистрация'}),/*#__PURE__*/_jsxs(Form,{className:\"d-flex flex-column\",children:[/*#__PURE__*/_jsx(Form.Control,{className:\"mt-3\",palceholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 email...\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(Form.Control,{className:\"mt-3\",palceholder:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C...\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},type:\"password\"}),/*#__PURE__*/_jsxs(Row,{className:\"d-flex justify-content-between mt-3\",children:[/*#__PURE__*/_jsx(Col,{xs:12,md:8,children:isLogin?/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-between\",children:[\"\\u041D\\u0435\\u0442 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430?\",/*#__PURE__*/_jsx(NavLink,{to:REGISTRATION_ROUTE,style:{color:'#198754'},children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u0443\\u0439\\u0441\\u044F!\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column justify-content-between\",children:[\"\\u0415\\u0441\\u0442\\u044C \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442?\",/*#__PURE__*/_jsx(NavLink,{to:LOGIN_ROUTE,style:{color:'#198754'},children:\"\\u0412\\u043E\\u0439\\u0434\\u0438\\u0442\\u0435!\"})]})}),/*#__PURE__*/_jsx(Col,{md:\"auto\",xs:\"auto\",children:/*#__PURE__*/_jsx(Button,{className:'align-self-end',variant:'outline-success',onClick:click,children:isLogin?'Войти':'Регистрация'})})]})]})]})});});export default Auth;","map":{"version":3,"names":["observer","React","useContext","useState","Button","Card","Col","Container","Form","Row","NavLink","useLocation","useNavigate","Context","LOGIN_ROUTE","MONITORING_ROUTE","REGISTRATION_ROUTE","Auth","userStore","location","navigate","isLogin","pathname","email","setEmail","password","setPassword","click","login","registration","alert","height","window","innerHeight","width","e","target","value","color"],"sources":["C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/src/pages/Auth.js"],"sourcesContent":["import { observer } from 'mobx-react-lite';\r\nimport React, { useContext, useState } from 'react';\r\nimport { Button, Card, Col, Container, Form, Row } from 'react-bootstrap';\r\nimport { NavLink, useLocation, useNavigate } from 'react-router-dom';\r\nimport { Context } from '..';\r\nimport {\r\n  LOGIN_ROUTE, MONITORING_ROUTE, REGISTRATION_ROUTE\r\n} from '../utils/consts';\r\n\r\nconst Auth = observer(() => {\r\n  const { userStore } = useContext(Context);\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n  const isLogin = location.pathname === LOGIN_ROUTE;\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n\r\n  const click = async () => {\r\n    try {\r\n      if (isLogin) {\r\n        await userStore.login(email, password);\r\n      } else {\r\n        await userStore.registration(email, password);\r\n      }\r\n      navigate(MONITORING_ROUTE);\r\n    } catch (e) {\r\n      alert(e);\r\n    }\r\n  };\r\n  return (\r\n    <Container\r\n      className=\"d-flex justify-content-center align-items-center\"\r\n      style={{ height: window.innerHeight - 54 }}\r\n    >\r\n      <Card style={{ width: 550 }} className=\"p-5\">\r\n        <h2 className=\"m-auto\">{isLogin ? 'Авторизация' : 'Регистрация'}</h2>\r\n        <Form className=\"d-flex flex-column\">\r\n          <Form.Control\r\n            className=\"mt-3\"\r\n            palceholder=\"Введите email...\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          />\r\n          <Form.Control\r\n            className=\"mt-3\"\r\n            palceholder=\"Введите пароль...\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            type=\"password\"\r\n          />\r\n          <Row className=\"d-flex justify-content-between mt-3\">\r\n            <Col xs={12} md={8}>\r\n              {isLogin ? (\r\n                <div className=\"d-flex flex-column justify-content-between\">\r\n                  Нет аккаунта?\r\n                  <NavLink to={REGISTRATION_ROUTE} style={{ color: '#198754' }}>\r\n                    Зарегистрируйся!\r\n                  </NavLink>\r\n                </div>\r\n              ) : (\r\n                <div className=\"d-flex flex-column justify-content-between\">\r\n                  Есть аккаунт?\r\n                  <NavLink to={LOGIN_ROUTE} style={{ color: '#198754' }}>\r\n                    Войдите!\r\n                  </NavLink>\r\n                </div>\r\n              )}\r\n            </Col>\r\n            <Col md=\"auto\" xs=\"auto\">\r\n              <Button\r\n                className={'align-self-end'}\r\n                variant={'outline-success'}\r\n                onClick={click}\r\n              >\r\n                {isLogin ? 'Войти' : 'Регистрация'}\r\n              </Button>\r\n            </Col>\r\n          </Row>\r\n        </Form>\r\n      </Card>\r\n    </Container>\r\n  );\r\n});\r\n\r\nexport default Auth;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}