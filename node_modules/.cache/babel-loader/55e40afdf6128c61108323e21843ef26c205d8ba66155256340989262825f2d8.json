{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{addMessage}from\"../../http/chatApi\";function handlePrivateMessages(_x,_x2,_x3,_x4){return _handlePrivateMessages.apply(this,arguments);}function _handlePrivateMessages(){_handlePrivateMessages=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event,chat,requests,senders){var message,sender,res,messages;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:message=event.message;if(!message.isPrivate){_context.next=11;break;}_context.next=4;return message.getSender();case 4:sender=_context.sent;res=chat.senders.find(function(obj){return obj.senderId===sender.id.value.toString();});if(!res){_context.next=11;break;}_context.next=9;return addMessage(res._id,{message:message.text,my:false});case 9:messages=_context.sent;res.messages=messages;case 11:case\"end\":return _context.stop();}},_callee);}));return _handlePrivateMessages.apply(this,arguments);}export default handlePrivateMessages;","map":{"version":3,"names":["addMessage","handlePrivateMessages","event","chat","requests","senders","message","isPrivate","getSender","sender","res","find","obj","senderId","id","value","toString","_id","text","my","messages"],"sources":["C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/src/components/telegram/handlePrivateMessages.js"],"sourcesContent":["import { addMessage } from \"../../http/chatApi\";\r\n\r\nasync function handlePrivateMessages(event, chat, requests, senders) {\r\n  const message = event.message;\r\n  if (message.isPrivate) {\r\n    const sender = await message.getSender();\r\n    const res = chat.senders.find(\r\n      (obj) => obj.senderId === sender.id.value.toString()\r\n    );\r\n    if (res) {\r\n      const messages = await addMessage(res._id, {\r\n        message: message.text,\r\n        my: false,\r\n      });\r\n      res.messages = messages\r\n    }\r\n\r\n    // update.push(message.text);\r\n  }\r\n}\r\n\r\nexport default handlePrivateMessages;\r\n"],"mappings":"kWAAA,OAASA,UAAU,KAAQ,oBAAoB,CAAC,QAEjCC,sBAAqB,yLAApC,iBAAqCC,KAAK,CAAEC,IAAI,CAAEC,QAAQ,CAAEC,OAAO,mJAC3DC,OAAO,CAAGJ,KAAK,CAACI,OAAO,KACzBA,OAAO,CAACC,SAAS,gDACED,QAAO,CAACE,SAAS,EAAE,QAAlCC,MAAM,eACNC,GAAG,CAAGP,IAAI,CAACE,OAAO,CAACM,IAAI,CAC3B,SAACC,GAAG,QAAKA,IAAG,CAACC,QAAQ,GAAKJ,MAAM,CAACK,EAAE,CAACC,KAAK,CAACC,QAAQ,EAAE,GACrD,KACGN,GAAG,gDACkBV,WAAU,CAACU,GAAG,CAACO,GAAG,CAAE,CACzCX,OAAO,CAAEA,OAAO,CAACY,IAAI,CACrBC,EAAE,CAAE,KACN,CAAC,CAAC,QAHIC,QAAQ,eAIdV,GAAG,CAACU,QAAQ,CAAGA,QAAQ,uDAK5B,wDAED,cAAenB,sBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}