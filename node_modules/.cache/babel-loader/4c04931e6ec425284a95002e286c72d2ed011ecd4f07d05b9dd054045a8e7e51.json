{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _asyncToGenerator = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _classCallCheck = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GZIPPacked = void 0;\nvar buffer_1 = require(\"buffer/\");\nvar __1 = require(\"../\");\nvar pako_1 = require(\"pako\");\nvar GZIPPacked = /*#__PURE__*/function () {\n  function GZIPPacked(data) {\n    _classCallCheck(this, GZIPPacked);\n    this.data = data;\n    this.CONSTRUCTOR_ID = 0x3072cfa1;\n    this.classType = \"constructor\";\n  }\n  _createClass(GZIPPacked, [{\n    key: \"toBytes\",\n    value: function () {\n      var _toBytes = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n        var g;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              g = buffer_1.Buffer.alloc(4);\n              g.writeUInt32LE(GZIPPacked.CONSTRUCTOR_ID, 0);\n              _context.t0 = buffer_1.Buffer;\n              _context.t1 = g;\n              _context.t2 = (0, __1.serializeBytes);\n              _context.next = 7;\n              return GZIPPacked.gzip(this.data);\n            case 7:\n              _context.t3 = _context.sent;\n              _context.t4 = (0, _context.t2)(_context.t3);\n              _context.t5 = [_context.t1, _context.t4];\n              return _context.abrupt(\"return\", _context.t0.concat.call(_context.t0, _context.t5));\n            case 11:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee, this);\n      }));\n      function toBytes() {\n        return _toBytes.apply(this, arguments);\n      }\n      return toBytes;\n    }()\n  }], [{\n    key: \"gzipIfSmaller\",\n    value: function () {\n      var _gzipIfSmaller = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(contentRelated, data) {\n        var gzipped;\n        return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n          while (1) switch (_context2.prev = _context2.next) {\n            case 0:\n              if (!(contentRelated && data.length > 512)) {\n                _context2.next = 6;\n                break;\n              }\n              _context2.next = 3;\n              return new GZIPPacked(data).toBytes();\n            case 3:\n              gzipped = _context2.sent;\n              if (!(gzipped.length < data.length)) {\n                _context2.next = 6;\n                break;\n              }\n              return _context2.abrupt(\"return\", gzipped);\n            case 6:\n              return _context2.abrupt(\"return\", data);\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }, _callee2);\n      }));\n      function gzipIfSmaller(_x, _x2) {\n        return _gzipIfSmaller.apply(this, arguments);\n      }\n      return gzipIfSmaller;\n    }()\n  }, {\n    key: \"gzip\",\n    value: function gzip(input) {\n      return buffer_1.Buffer.from(input);\n      // TODO this usually makes it faster for large requests\n      //return Buffer.from(deflate(input, { level: 9, gzip: true }))\n    }\n  }, {\n    key: \"ungzip\",\n    value: function ungzip(input) {\n      return buffer_1.Buffer.from((0, pako_1.inflate)(input));\n    }\n  }, {\n    key: \"read\",\n    value: function () {\n      var _read = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(reader) {\n        var constructor;\n        return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n          while (1) switch (_context3.prev = _context3.next) {\n            case 0:\n              constructor = reader.readInt(false);\n              if (!(constructor !== GZIPPacked.CONSTRUCTOR_ID)) {\n                _context3.next = 3;\n                break;\n              }\n              throw new Error(\"not equal\");\n            case 3:\n              return _context3.abrupt(\"return\", GZIPPacked.gzip(reader.tgReadBytes()));\n            case 4:\n            case \"end\":\n              return _context3.stop();\n          }\n        }, _callee3);\n      }));\n      function read(_x3) {\n        return _read.apply(this, arguments);\n      }\n      return read;\n    }()\n  }, {\n    key: \"fromReader\",\n    value: function () {\n      var _fromReader = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(reader) {\n        var data;\n        return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n          while (1) switch (_context4.prev = _context4.next) {\n            case 0:\n              data = reader.tgReadBytes();\n              _context4.t0 = GZIPPacked;\n              _context4.next = 4;\n              return GZIPPacked.ungzip(data);\n            case 4:\n              _context4.t1 = _context4.sent;\n              return _context4.abrupt(\"return\", new _context4.t0(_context4.t1));\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }, _callee4);\n      }));\n      function fromReader(_x4) {\n        return _fromReader.apply(this, arguments);\n      }\n      return fromReader;\n    }()\n  }]);\n  return GZIPPacked;\n}();\nexports.GZIPPacked = GZIPPacked;\nGZIPPacked.CONSTRUCTOR_ID = 0x3072cfa1;\nGZIPPacked.classType = \"constructor\";","map":{"version":3,"names":["Object","defineProperty","exports","value","GZIPPacked","buffer_1","require","__1","pako_1","data","CONSTRUCTOR_ID","classType","g","Buffer","alloc","writeUInt32LE","serializeBytes","gzip","concat","contentRelated","length","toBytes","gzipped","input","from","inflate","reader","constructor","readInt","Error","tgReadBytes","ungzip"],"sources":["C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/telegram/tl/core/GZIPPacked.js"],"sourcesContent":["\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.GZIPPacked = void 0;\r\nconst buffer_1 = require(\"buffer/\");\r\nconst __1 = require(\"../\");\r\nconst pako_1 = require(\"pako\");\r\nclass GZIPPacked {\r\n    constructor(data) {\r\n        this.data = data;\r\n        this.CONSTRUCTOR_ID = 0x3072cfa1;\r\n        this.classType = \"constructor\";\r\n    }\r\n    static async gzipIfSmaller(contentRelated, data) {\r\n        if (contentRelated && data.length > 512) {\r\n            const gzipped = await new GZIPPacked(data).toBytes();\r\n            if (gzipped.length < data.length) {\r\n                return gzipped;\r\n            }\r\n        }\r\n        return data;\r\n    }\r\n    static gzip(input) {\r\n        return buffer_1.Buffer.from(input);\r\n        // TODO this usually makes it faster for large requests\r\n        //return Buffer.from(deflate(input, { level: 9, gzip: true }))\r\n    }\r\n    static ungzip(input) {\r\n        return buffer_1.Buffer.from((0, pako_1.inflate)(input));\r\n    }\r\n    async toBytes() {\r\n        const g = buffer_1.Buffer.alloc(4);\r\n        g.writeUInt32LE(GZIPPacked.CONSTRUCTOR_ID, 0);\r\n        return buffer_1.Buffer.concat([\r\n            g,\r\n            (0, __1.serializeBytes)(await GZIPPacked.gzip(this.data)),\r\n        ]);\r\n    }\r\n    static async read(reader) {\r\n        const constructor = reader.readInt(false);\r\n        if (constructor !== GZIPPacked.CONSTRUCTOR_ID) {\r\n            throw new Error(\"not equal\");\r\n        }\r\n        return GZIPPacked.gzip(reader.tgReadBytes());\r\n    }\r\n    static async fromReader(reader) {\r\n        const data = reader.tgReadBytes();\r\n        return new GZIPPacked(await GZIPPacked.ungzip(data));\r\n    }\r\n}\r\nexports.GZIPPacked = GZIPPacked;\r\nGZIPPacked.CONSTRUCTOR_ID = 0x3072cfa1;\r\nGZIPPacked.classType = \"constructor\";\r\n"],"mappings":"AAAA,YAAY;;AAAC;AAAA;AAAA;AAAA;AACbA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAK,CAAC,CAAC;AAC7DD,OAAO,CAACE,UAAU,GAAG,KAAK,CAAC;AAC3B,IAAMC,QAAQ,GAAGC,OAAO,CAAC,SAAS,CAAC;AACnC,IAAMC,GAAG,GAAGD,OAAO,CAAC,KAAK,CAAC;AAC1B,IAAME,MAAM,GAAGF,OAAO,CAAC,MAAM,CAAC;AAAC,IACzBF,UAAU;EACZ,oBAAYK,IAAI,EAAE;IAAA;IACd,IAAI,CAACA,IAAI,GAAGA,IAAI;IAChB,IAAI,CAACC,cAAc,GAAG,UAAU;IAChC,IAAI,CAACC,SAAS,GAAG,aAAa;EAClC;EAAC;IAAA;IAAA;MAAA,0EAkBD;QAAA;QAAA;UAAA;YAAA;cACUC,CAAC,GAAGP,QAAQ,CAACQ,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;cAClCF,CAAC,CAACG,aAAa,CAACX,UAAU,CAACM,cAAc,EAAE,CAAC,CAAC;cAAC,cACvCL,QAAQ,CAACQ,MAAM;cAAA,cAClBD,CAAC;cAAA,eACA,CAAC,EAAEL,GAAG,CAACS,cAAc;cAAA;cAAA,OAAQZ,UAAU,CAACa,IAAI,CAAC,IAAI,CAACR,IAAI,CAAC;YAAA;cAAA;cAAA;cAAA;cAAA,6CAFrCS,MAAM;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA,CAIhC;MAAA;QAAA;MAAA;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,gFAxBD,kBAA2BC,cAAc,EAAEV,IAAI;QAAA;QAAA;UAAA;YAAA;cAAA,MACvCU,cAAc,IAAIV,IAAI,CAACW,MAAM,GAAG,GAAG;gBAAA;gBAAA;cAAA;cAAA;cAAA,OACb,IAAIhB,UAAU,CAACK,IAAI,CAAC,CAACY,OAAO,EAAE;YAAA;cAA9CC,OAAO;cAAA,MACTA,OAAO,CAACF,MAAM,GAAGX,IAAI,CAACW,MAAM;gBAAA;gBAAA;cAAA;cAAA,kCACrBE,OAAO;YAAA;cAAA,kCAGfb,IAAI;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA,CACd;MAAA;QAAA;MAAA;MAAA;IAAA;EAAA;IAAA;IAAA,OACD,cAAYc,KAAK,EAAE;MACf,OAAOlB,QAAQ,CAACQ,MAAM,CAACW,IAAI,CAACD,KAAK,CAAC;MAClC;MACA;IACJ;EAAC;IAAA;IAAA,OACD,gBAAcA,KAAK,EAAE;MACjB,OAAOlB,QAAQ,CAACQ,MAAM,CAACW,IAAI,CAAC,CAAC,CAAC,EAAEhB,MAAM,CAACiB,OAAO,EAAEF,KAAK,CAAC,CAAC;IAC3D;EAAC;IAAA;IAAA;MAAA,uEASD,kBAAkBG,MAAM;QAAA;QAAA;UAAA;YAAA;cACdC,WAAW,GAAGD,MAAM,CAACE,OAAO,CAAC,KAAK,CAAC;cAAA,MACrCD,WAAW,KAAKvB,UAAU,CAACM,cAAc;gBAAA;gBAAA;cAAA;cAAA,MACnC,IAAImB,KAAK,CAAC,WAAW,CAAC;YAAA;cAAA,kCAEzBzB,UAAU,CAACa,IAAI,CAACS,MAAM,CAACI,WAAW,EAAE,CAAC;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA,CAC/C;MAAA;QAAA;MAAA;MAAA;IAAA;EAAA;IAAA;IAAA;MAAA,6EACD,kBAAwBJ,MAAM;QAAA;QAAA;UAAA;YAAA;cACpBjB,IAAI,GAAGiB,MAAM,CAACI,WAAW,EAAE;cAAA,eACtB1B,UAAU;cAAA;cAAA,OAAOA,UAAU,CAAC2B,MAAM,CAACtB,IAAI,CAAC;YAAA;cAAA;cAAA;YAAA;YAAA;cAAA;UAAA;QAAA;MAAA,CACtD;MAAA;QAAA;MAAA;MAAA;IAAA;EAAA;EAAA;AAAA;AAELP,OAAO,CAACE,UAAU,GAAGA,UAAU;AAC/BA,UAAU,CAACM,cAAc,GAAG,UAAU;AACtCN,UAAU,CAACO,SAAS,GAAG,aAAa"},"metadata":{},"sourceType":"script","externalDependencies":[]}