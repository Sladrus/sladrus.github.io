{"ast":null,"code":"\"use strict\";\n\nvar _regeneratorRuntime = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/regeneratorRuntime.js\").default;\nvar _slicedToArray = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nvar _asyncToGenerator = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/asyncToGenerator.js\").default;\nvar _createForOfIteratorHelper = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar _toConsumableArray = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/toConsumableArray.js\").default;\nvar _createClass = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _classCallCheck = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _inherits = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar _wrapNativeSuper = require(\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/wrapNativeSuper.js\").default;\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports._updateLoop = exports._dispatchUpdate = exports._processUpdate = exports._handleUpdate = exports.catchUp = exports.listEventHandlers = exports.removeEventHandler = exports.addEventHandler = exports.on = exports.StopPropagation = void 0;\nvar tl_1 = require(\"../tl\");\nvar big_integer_1 = __importDefault(require(\"big-integer\"));\nvar network_1 = require(\"../network\");\nvar index_1 = require(\"../index\");\nvar Helpers_1 = require(\"../Helpers\");\nvar PING_INTERVAL = 9000; // 9 sec\nvar PING_TIMEOUT = 10000; // 10 sec\nvar PING_FAIL_ATTEMPTS = 3;\nvar PING_FAIL_INTERVAL = 100; // ms\nvar PING_DISCONNECT_DELAY = 60000; // 1 min\n/**\r\n If this exception is raised in any of the handlers for a given event,\r\n it will stop the execution of all other registered event handlers.\r\n It can be seen as the ``StopIteration`` in a for loop but for events.\r\n */\nvar StopPropagation = /*#__PURE__*/function (_Error) {\n  _inherits(StopPropagation, _Error);\n  var _super = _createSuper(StopPropagation);\n  function StopPropagation() {\n    _classCallCheck(this, StopPropagation);\n    return _super.apply(this, arguments);\n  }\n  return _createClass(StopPropagation);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nexports.StopPropagation = StopPropagation;\n/** @hidden */\nfunction on(client, event) {\n  return function (f) {\n    client.addEventHandler(f, event);\n    return f;\n  };\n}\nexports.on = on;\n/** @hidden */\nfunction addEventHandler(client, callback, event) {\n  if (event == undefined) {\n    // recursive imports :(\n    var raw = require(\"../events/Raw\").Raw;\n    event = new raw({});\n  }\n  event.client = client;\n  client._eventBuilders.push([event, callback]);\n}\nexports.addEventHandler = addEventHandler;\n/** @hidden */\nfunction removeEventHandler(client, callback, event) {\n  client._eventBuilders = client._eventBuilders.filter(function (item) {\n    return item[0] !== event && item[1] !== callback;\n  });\n}\nexports.removeEventHandler = removeEventHandler;\n/** @hidden */\nfunction listEventHandlers(client) {\n  return client._eventBuilders;\n}\nexports.listEventHandlers = listEventHandlers;\n/** @hidden */\nfunction catchUp() {\n  // TODO\n}\nexports.catchUp = catchUp;\n/** @hidden */\nfunction _handleUpdate(client, update) {\n  if (typeof update === \"number\") {\n    if ([-1, 0, 1].includes(update)) {\n      _dispatchUpdate(client, {\n        update: new network_1.UpdateConnectionState(update)\n      });\n      return;\n    }\n  }\n  //this.session.processEntities(update)\n  client._entityCache.add(update);\n  client.session.processEntities(update);\n  if (update instanceof tl_1.Api.Updates || update instanceof tl_1.Api.UpdatesCombined) {\n    // TODO deal with entities\n    var entities = new Map();\n    for (var _i = 0, _arr = [].concat(_toConsumableArray(update.users), _toConsumableArray(update.chats)); _i < _arr.length; _i++) {\n      var x = _arr[_i];\n      entities.set(index_1.utils.getPeerId(x), x);\n    }\n    var _iterator = _createForOfIteratorHelper(update.updates),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var u = _step.value;\n        _processUpdate(client, u, update.updates, entities);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  } else if (update instanceof tl_1.Api.UpdateShort) {\n    _processUpdate(client, update.update, null);\n  } else {\n    _processUpdate(client, update, null);\n  }\n}\nexports._handleUpdate = _handleUpdate;\n/** @hidden */\nfunction _processUpdate(client, update, others, entities) {\n  update._entities = entities || new Map();\n  var args = {\n    update: update,\n    others: others\n  };\n  _dispatchUpdate(client, args);\n}\nexports._processUpdate = _processUpdate;\n/** @hidden */\nfunction _dispatchUpdate(_x, _x2) {\n  return _dispatchUpdate2.apply(this, arguments);\n}\nfunction _dispatchUpdate2() {\n  _dispatchUpdate2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(client, args) {\n    var _iterator2, _step2, _step2$value, builder, callback, event, filter;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _iterator2 = _createForOfIteratorHelper(client._eventBuilders);\n          _context.prev = 1;\n          _iterator2.s();\n        case 3:\n          if ((_step2 = _iterator2.n()).done) {\n            _context.next = 42;\n            break;\n          }\n          _step2$value = _slicedToArray(_step2.value, 2), builder = _step2$value[0], callback = _step2$value[1];\n          if (!(!builder || !callback)) {\n            _context.next = 7;\n            break;\n          }\n          return _context.abrupt(\"continue\", 40);\n        case 7:\n          if (builder.resolved) {\n            _context.next = 10;\n            break;\n          }\n          _context.next = 10;\n          return builder.resolve(client);\n        case 10:\n          event = args.update;\n          if (!event) {\n            _context.next = 40;\n            break;\n          }\n          if (client._selfInputPeer) {\n            _context.next = 20;\n            break;\n          }\n          _context.prev = 13;\n          _context.next = 16;\n          return client.getMe(true);\n        case 16:\n          _context.next = 20;\n          break;\n        case 18:\n          _context.prev = 18;\n          _context.t0 = _context[\"catch\"](13);\n        case 20:\n          if (!(event instanceof network_1.UpdateConnectionState)) {\n            // TODO fix me\n          }\n          // TODO fix others not being passed\n          event = builder.build(event, callback, client._selfInputPeer ? (0, Helpers_1.returnBigInt)(client._selfInputPeer.userId) : undefined);\n          if (!event) {\n            _context.next = 40;\n            break;\n          }\n          event._client = client;\n          if (\"_eventName\" in event) {\n            event._setClient(client);\n            event.originalUpdate = args.update;\n            event._entities = args.update._entities;\n          }\n          _context.next = 27;\n          return builder.filter(event);\n        case 27:\n          filter = _context.sent;\n          if (filter) {\n            _context.next = 30;\n            break;\n          }\n          return _context.abrupt(\"continue\", 40);\n        case 30:\n          _context.prev = 30;\n          _context.next = 33;\n          return callback(event);\n        case 33:\n          _context.next = 40;\n          break;\n        case 35:\n          _context.prev = 35;\n          _context.t1 = _context[\"catch\"](30);\n          if (!(_context.t1 instanceof StopPropagation)) {\n            _context.next = 39;\n            break;\n          }\n          return _context.abrupt(\"break\", 42);\n        case 39:\n          console.error(_context.t1);\n        case 40:\n          _context.next = 3;\n          break;\n        case 42:\n          _context.next = 47;\n          break;\n        case 44:\n          _context.prev = 44;\n          _context.t2 = _context[\"catch\"](1);\n          _iterator2.e(_context.t2);\n        case 47:\n          _context.prev = 47;\n          _iterator2.f();\n          return _context.finish(47);\n        case 50:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee, null, [[1, 44, 47, 50], [13, 18], [30, 35]]);\n  }));\n  return _dispatchUpdate2.apply(this, arguments);\n}\nexports._dispatchUpdate = _dispatchUpdate;\n/** @hidden */\nfunction _updateLoop(_x3) {\n  return _updateLoop2.apply(this, arguments);\n}\nfunction _updateLoop2() {\n  _updateLoop2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(client) {\n    var _a;\n    return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n      while (1) switch (_context2.prev = _context2.next) {\n        case 0:\n          if (!client.connected) {\n            _context2.next = 24;\n            break;\n          }\n          _context2.prev = 1;\n          _context2.next = 4;\n          return (0, Helpers_1.sleep)(60 * 1000);\n        case 4:\n          if ((_a = client._sender) === null || _a === void 0 ? void 0 : _a._transportConnected()) {\n            _context2.next = 6;\n            break;\n          }\n          return _context2.abrupt(\"continue\", 0);\n        case 6:\n          _context2.next = 8;\n          return client.invoke(new tl_1.Api.Ping({\n            pingId: (0, big_integer_1.default)((0, Helpers_1.getRandomInt)(Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER))\n          }));\n        case 8:\n          _context2.next = 13;\n          break;\n        case 10:\n          _context2.prev = 10;\n          _context2.t0 = _context2[\"catch\"](1);\n          return _context2.abrupt(\"return\");\n        case 13:\n          client.session.save();\n          if (!(new Date().getTime() - (client._lastRequest || 0) > 30 * 60 * 1000)) {\n            _context2.next = 22;\n            break;\n          }\n          _context2.prev = 15;\n          _context2.next = 18;\n          return client.invoke(new tl_1.Api.updates.GetState());\n        case 18:\n          _context2.next = 22;\n          break;\n        case 20:\n          _context2.prev = 20;\n          _context2.t1 = _context2[\"catch\"](15);\n        case 22:\n          _context2.next = 0;\n          break;\n        case 24:\n        case \"end\":\n          return _context2.stop();\n      }\n    }, _callee2, null, [[1, 10], [15, 20]]);\n  }));\n  return _updateLoop2.apply(this, arguments);\n}\nexports._updateLoop = _updateLoop;\n/** @hidden */\nfunction attempts(_x4, _x5, _x6) {\n  return _attempts.apply(this, arguments);\n}\n/** @hidden */\nfunction _attempts() {\n  _attempts = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(cb, times, pause) {\n    var i;\n    return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n      while (1) switch (_context3.prev = _context3.next) {\n        case 0:\n          i = 0;\n        case 1:\n          if (!(i < times)) {\n            _context3.next = 17;\n            break;\n          }\n          _context3.prev = 2;\n          _context3.next = 5;\n          return cb();\n        case 5:\n          return _context3.abrupt(\"return\", _context3.sent);\n        case 8:\n          _context3.prev = 8;\n          _context3.t0 = _context3[\"catch\"](2);\n          if (!(i === times - 1)) {\n            _context3.next = 12;\n            break;\n          }\n          throw _context3.t0;\n        case 12:\n          _context3.next = 14;\n          return (0, Helpers_1.sleep)(pause);\n        case 14:\n          i++;\n          _context3.next = 1;\n          break;\n        case 17:\n          return _context3.abrupt(\"return\", undefined);\n        case 18:\n        case \"end\":\n          return _context3.stop();\n      }\n    }, _callee3, null, [[2, 8]]);\n  }));\n  return _attempts.apply(this, arguments);\n}\nfunction timeout(promise, ms) {\n  return Promise.race([promise, (0, Helpers_1.sleep)(ms).then(function () {\n    return Promise.reject(new Error(\"TIMEOUT\"));\n  })]);\n}","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","_updateLoop","_dispatchUpdate","_processUpdate","_handleUpdate","catchUp","listEventHandlers","removeEventHandler","addEventHandler","on","StopPropagation","tl_1","require","big_integer_1","network_1","index_1","Helpers_1","PING_INTERVAL","PING_TIMEOUT","PING_FAIL_ATTEMPTS","PING_FAIL_INTERVAL","PING_DISCONNECT_DELAY","Error","client","event","f","callback","undefined","raw","Raw","_eventBuilders","push","filter","item","update","includes","UpdateConnectionState","_entityCache","add","session","processEntities","Api","Updates","UpdatesCombined","entities","Map","users","chats","x","set","utils","getPeerId","updates","u","UpdateShort","others","_entities","args","builder","resolved","resolve","_selfInputPeer","getMe","build","returnBigInt","userId","_client","_setClient","originalUpdate","console","error","connected","sleep","_a","_sender","_transportConnected","invoke","Ping","pingId","default","getRandomInt","Number","MIN_SAFE_INTEGER","MAX_SAFE_INTEGER","save","Date","getTime","_lastRequest","GetState","attempts","cb","times","pause","i","timeout","promise","ms","Promise","race","then","reject"],"sources":["C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/telegram/client/updates.js"],"sourcesContent":["\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports._updateLoop = exports._dispatchUpdate = exports._processUpdate = exports._handleUpdate = exports.catchUp = exports.listEventHandlers = exports.removeEventHandler = exports.addEventHandler = exports.on = exports.StopPropagation = void 0;\r\nconst tl_1 = require(\"../tl\");\r\nconst big_integer_1 = __importDefault(require(\"big-integer\"));\r\nconst network_1 = require(\"../network\");\r\nconst index_1 = require(\"../index\");\r\nconst Helpers_1 = require(\"../Helpers\");\r\nconst PING_INTERVAL = 9000; // 9 sec\r\nconst PING_TIMEOUT = 10000; // 10 sec\r\nconst PING_FAIL_ATTEMPTS = 3;\r\nconst PING_FAIL_INTERVAL = 100; // ms\r\nconst PING_DISCONNECT_DELAY = 60000; // 1 min\r\n/**\r\n If this exception is raised in any of the handlers for a given event,\r\n it will stop the execution of all other registered event handlers.\r\n It can be seen as the ``StopIteration`` in a for loop but for events.\r\n */\r\nclass StopPropagation extends Error {\r\n}\r\nexports.StopPropagation = StopPropagation;\r\n/** @hidden */\r\nfunction on(client, event) {\r\n    return (f) => {\r\n        client.addEventHandler(f, event);\r\n        return f;\r\n    };\r\n}\r\nexports.on = on;\r\n/** @hidden */\r\nfunction addEventHandler(client, callback, event) {\r\n    if (event == undefined) {\r\n        // recursive imports :(\r\n        const raw = require(\"../events/Raw\").Raw;\r\n        event = new raw({});\r\n    }\r\n    event.client = client;\r\n    client._eventBuilders.push([event, callback]);\r\n}\r\nexports.addEventHandler = addEventHandler;\r\n/** @hidden */\r\nfunction removeEventHandler(client, callback, event) {\r\n    client._eventBuilders = client._eventBuilders.filter(function (item) {\r\n        return item[0] !== event && item[1] !== callback;\r\n    });\r\n}\r\nexports.removeEventHandler = removeEventHandler;\r\n/** @hidden */\r\nfunction listEventHandlers(client) {\r\n    return client._eventBuilders;\r\n}\r\nexports.listEventHandlers = listEventHandlers;\r\n/** @hidden */\r\nfunction catchUp() {\r\n    // TODO\r\n}\r\nexports.catchUp = catchUp;\r\n/** @hidden */\r\nfunction _handleUpdate(client, update) {\r\n    if (typeof update === \"number\") {\r\n        if ([-1, 0, 1].includes(update)) {\r\n            _dispatchUpdate(client, {\r\n                update: new network_1.UpdateConnectionState(update),\r\n            });\r\n            return;\r\n        }\r\n    }\r\n    //this.session.processEntities(update)\r\n    client._entityCache.add(update);\r\n    client.session.processEntities(update);\r\n    if (update instanceof tl_1.Api.Updates ||\r\n        update instanceof tl_1.Api.UpdatesCombined) {\r\n        // TODO deal with entities\r\n        const entities = new Map();\r\n        for (const x of [...update.users, ...update.chats]) {\r\n            entities.set(index_1.utils.getPeerId(x), x);\r\n        }\r\n        for (const u of update.updates) {\r\n            _processUpdate(client, u, update.updates, entities);\r\n        }\r\n    }\r\n    else if (update instanceof tl_1.Api.UpdateShort) {\r\n        _processUpdate(client, update.update, null);\r\n    }\r\n    else {\r\n        _processUpdate(client, update, null);\r\n    }\r\n}\r\nexports._handleUpdate = _handleUpdate;\r\n/** @hidden */\r\nfunction _processUpdate(client, update, others, entities) {\r\n    update._entities = entities || new Map();\r\n    const args = {\r\n        update: update,\r\n        others: others,\r\n    };\r\n    _dispatchUpdate(client, args);\r\n}\r\nexports._processUpdate = _processUpdate;\r\n/** @hidden */\r\nasync function _dispatchUpdate(client, args) {\r\n    for (const [builder, callback] of client._eventBuilders) {\r\n        if (!builder || !callback) {\r\n            continue;\r\n        }\r\n        if (!builder.resolved) {\r\n            await builder.resolve(client);\r\n        }\r\n        let event = args.update;\r\n        if (event) {\r\n            if (!client._selfInputPeer) {\r\n                try {\r\n                    await client.getMe(true);\r\n                }\r\n                catch (e) {\r\n                    // do nothing\r\n                }\r\n            }\r\n            if (!(event instanceof network_1.UpdateConnectionState)) {\r\n                // TODO fix me\r\n            }\r\n            // TODO fix others not being passed\r\n            event = builder.build(event, callback, client._selfInputPeer\r\n                ? (0, Helpers_1.returnBigInt)(client._selfInputPeer.userId)\r\n                : undefined);\r\n            if (event) {\r\n                event._client = client;\r\n                if (\"_eventName\" in event) {\r\n                    event._setClient(client);\r\n                    event.originalUpdate = args.update;\r\n                    event._entities = args.update._entities;\r\n                }\r\n                const filter = await builder.filter(event);\r\n                if (!filter) {\r\n                    continue;\r\n                }\r\n                try {\r\n                    await callback(event);\r\n                }\r\n                catch (e) {\r\n                    if (e instanceof StopPropagation) {\r\n                        break;\r\n                    }\r\n                    console.error(e);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\nexports._dispatchUpdate = _dispatchUpdate;\r\n/** @hidden */\r\nasync function _updateLoop(client) {\r\n    var _a;\r\n    while (client.connected) {\r\n        try {\r\n            await (0, Helpers_1.sleep)(60 * 1000);\r\n            if (!((_a = client._sender) === null || _a === void 0 ? void 0 : _a._transportConnected())) {\r\n                continue;\r\n            }\r\n            await client.invoke(new tl_1.Api.Ping({\r\n                pingId: (0, big_integer_1.default)((0, Helpers_1.getRandomInt)(Number.MIN_SAFE_INTEGER, Number.MAX_SAFE_INTEGER)),\r\n            }));\r\n        }\r\n        catch (e) {\r\n            return;\r\n        }\r\n        client.session.save();\r\n        if (new Date().getTime() - (client._lastRequest || 0) >\r\n            30 * 60 * 1000) {\r\n            try {\r\n                await client.invoke(new tl_1.Api.updates.GetState());\r\n            }\r\n            catch (e) {\r\n                // we don't care about errors here\r\n            }\r\n        }\r\n    }\r\n}\r\nexports._updateLoop = _updateLoop;\r\n/** @hidden */\r\nasync function attempts(cb, times, pause) {\r\n    for (let i = 0; i < times; i++) {\r\n        try {\r\n            // We need to `return await` here so it can be caught locally\r\n            return await cb();\r\n        }\r\n        catch (err) {\r\n            if (i === times - 1) {\r\n                throw err;\r\n            }\r\n            await (0, Helpers_1.sleep)(pause);\r\n        }\r\n    }\r\n    return undefined;\r\n}\r\n/** @hidden */\r\nfunction timeout(promise, ms) {\r\n    return Promise.race([\r\n        promise,\r\n        (0, Helpers_1.sleep)(ms).then(() => Promise.reject(new Error(\"TIMEOUT\"))),\r\n    ]);\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}