{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{observer}from'mobx-react-lite';import React,{useEffect,useState}from'react';import{Col,ListGroup,Modal,Row}from'react-bootstrap';import{Link}from'react-router-dom';import DialogModal from'./DialogModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OpenModal=observer(function(_ref){var _chat$requests;var show=_ref.show,_onHide=_ref.onHide,chat=_ref.chat,senders=_ref.senders;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),sender=_useState2[0],setSender=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showDialog=_useState4[0],setShowDialog=_useState4[1];useEffect(function(){},[senders]);return/*#__PURE__*/_jsxs(Modal,{size:\"lg\",show:show,onHide:function onHide(){return _onHide();},\"aria-labelledby\":\"example-modal-sizes-title-lg\",children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{id:\"example-modal-sizes-title-lg\",children:chat.link})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(ListGroup,{children:[chat.requests&&(chat===null||chat===void 0?void 0:(_chat$requests=chat.requests)===null||_chat$requests===void 0?void 0:_chat$requests.slice().reverse().map(function(o,index){return/*#__PURE__*/_jsx(ListGroup.Item,{children:/*#__PURE__*/_jsxs(Row,{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(Col,{md:\"auto\",children:o.username}),/*#__PURE__*/_jsx(Col,{children:o.text}),/*#__PURE__*/_jsx(Col,{md:\"auto\",children:/*#__PURE__*/_jsx(Link,{onClick:/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setSender(chat.senders.find(function(obj){return(obj===null||obj===void 0?void 0:obj.senderId)===o.sender;}));setShowDialog(true);case 2:case\"end\":return _context.stop();}},_callee);})),children:\"\\u041D\\u0430\\u043F\\u0438\\u0441\\u0430\\u0442\\u044C\"})})]})},index);})),/*#__PURE__*/_jsx(DialogModal,{show:showDialog,onHide:setShowDialog,senderData:sender,chat:chat})]})})]});});export default OpenModal;","map":{"version":3,"names":["observer","React","useEffect","useState","Col","ListGroup","Modal","Row","Link","DialogModal","OpenModal","show","onHide","chat","senders","sender","setSender","showDialog","setShowDialog","link","requests","slice","reverse","map","o","index","username","text","find","obj","senderId"],"sources":["C:/Users/Yakov/Desktop/projects/node-projects/node-js-key-monitor/sladrus.github.io/src/components/modals/monitoring/OpenModal.js"],"sourcesContent":["import { observer } from 'mobx-react-lite';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { Col, ListGroup, Modal, Row } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport DialogModal from './DialogModal';\r\n\r\nconst OpenModal = observer(({ show, onHide, chat, senders }) => {\r\n  const [sender, setSender] = useState({});\r\n  const [showDialog, setShowDialog] = useState(false);\r\n\r\n  useEffect(() => {}, [senders]);\r\n\r\n  return (\r\n    <Modal\r\n      size=\"lg\"\r\n      show={show}\r\n      onHide={() => onHide()}\r\n      aria-labelledby=\"example-modal-sizes-title-lg\"\r\n    >\r\n      <Modal.Header closeButton>\r\n        <Modal.Title id=\"example-modal-sizes-title-lg\">{chat.link}</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <ListGroup>\r\n          {chat.requests &&\r\n            chat?.requests?.slice().reverse().map((o, index) => {\r\n              return (\r\n                <ListGroup.Item key={index}>\r\n                  <Row className=\"d-flex justify-content-between align-items-center\">\r\n                    <Col md=\"auto\">\r\n                      {o.username}\r\n                    </Col>\r\n                    <Col>{o.text}</Col>\r\n                    <Col md=\"auto\">\r\n                      <Link\r\n                        onClick={async () => {\r\n                          setSender(\r\n                            chat.senders.find(\r\n                              (obj) => obj?.senderId === o.sender\r\n                            )\r\n                          );\r\n                          setShowDialog(true);\r\n                        }}\r\n                      >\r\n                        Написать\r\n                      </Link>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n              );\r\n            })}\r\n          <DialogModal\r\n            show={showDialog}\r\n            onHide={setShowDialog}\r\n            senderData={sender}\r\n            chat={chat}\r\n          />\r\n        </ListGroup>\r\n      </Modal.Body>\r\n    </Modal>\r\n  );\r\n});\r\n\r\nexport default OpenModal;\r\n"],"mappings":"2gBAAA,OAASA,QAAQ,KAAQ,iBAAiB,CAC1C,MAAOC,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,GAAG,CAAEC,SAAS,CAAEC,KAAK,CAAEC,GAAG,KAAQ,iBAAiB,CAC5D,OAASC,IAAI,KAAQ,kBAAkB,CACvC,MAAOC,YAAW,KAAM,eAAe,CAAC,wFAExC,GAAMC,UAAS,CAAGV,QAAQ,CAAC,cAAqC,uBAAlCW,KAAI,MAAJA,IAAI,CAAEC,OAAM,MAANA,MAAM,CAAEC,IAAI,MAAJA,IAAI,CAAEC,OAAO,MAAPA,OAAO,CACvD,cAA4BX,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAAjCY,MAAM,eAAEC,SAAS,eACxB,eAAoCb,QAAQ,CAAC,KAAK,CAAC,yCAA5Cc,UAAU,eAAEC,aAAa,eAEhChB,SAAS,CAAC,UAAM,CAAC,CAAC,CAAE,CAACY,OAAO,CAAC,CAAC,CAE9B,mBACE,MAAC,KAAK,EACJ,IAAI,CAAC,IAAI,CACT,IAAI,CAAEH,IAAK,CACX,MAAM,CAAE,wBAAMC,QAAM,EAAE,EAAC,CACvB,kBAAgB,8BAA8B,wBAE9C,KAAC,KAAK,CAAC,MAAM,EAAC,WAAW,4BACvB,KAAC,KAAK,CAAC,KAAK,EAAC,EAAE,CAAC,8BAA8B,UAAEC,IAAI,CAACM,IAAI,EAAe,EAC3D,cACf,KAAC,KAAK,CAAC,IAAI,wBACT,MAAC,SAAS,YACPN,IAAI,CAACO,QAAQ,GACZP,IAAI,SAAJA,IAAI,iCAAJA,IAAI,CAAEO,QAAQ,yCAAd,eAAgBC,KAAK,EAAE,CAACC,OAAO,EAAE,CAACC,GAAG,CAAC,SAACC,CAAC,CAAEC,KAAK,CAAK,CAClD,mBACE,KAAC,SAAS,CAAC,IAAI,wBACb,MAAC,GAAG,EAAC,SAAS,CAAC,mDAAmD,wBAChE,KAAC,GAAG,EAAC,EAAE,CAAC,MAAM,UACXD,CAAC,CAACE,QAAQ,EACP,cACN,KAAC,GAAG,WAAEF,CAAC,CAACG,IAAI,EAAO,cACnB,KAAC,GAAG,EAAC,EAAE,CAAC,MAAM,uBACZ,KAAC,IAAI,EACH,OAAO,wEAAE,oIACPX,SAAS,CACPH,IAAI,CAACC,OAAO,CAACc,IAAI,CACf,SAACC,GAAG,QAAK,CAAAA,GAAG,SAAHA,GAAG,iBAAHA,GAAG,CAAEC,QAAQ,IAAKN,CAAC,CAACT,MAAM,GACpC,CACF,CACDG,aAAa,CAAC,IAAI,CAAC,CAAC,qDACrB,EAAC,UACH,kDAED,EAAO,EACH,GACF,EApBaO,KAAK,CAqBT,CAErB,CAAC,CAAC,eACJ,KAAC,WAAW,EACV,IAAI,CAAER,UAAW,CACjB,MAAM,CAAEC,aAAc,CACtB,UAAU,CAAEH,MAAO,CACnB,IAAI,CAAEF,IAAK,EACX,GACQ,EACD,GACP,CAEZ,CAAC,CAAC,CAEF,cAAeH,UAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}